{% extends "base.html" %}

{% load url from future %}

{% block body %}
    <section id="sidePane" ng-controller="SidePaneCtrl">
        <div id="selectedSubject">
            <h2 id="selectedName">No Subject Selected</h2>
            <h4 id="selectedCode">Use the search to find a subject</h4>
        </div>
        <div id="creditPoint">
            <h4 class="subjectDetailHeading">Credit Points</h4>

            <p class="subjectDetail" id="creditPointDetail"></p>
        </div>
        <div id="semester">
            <h4 class="subjectDetailHeading">Semester</h4>

            <p class="subjectDetail" id="semesterDetail"></p>
        </div>
        <div id="timeCommit">
            <h4 class="subjectDetailHeading">Time Commitment</h4>

            <p class="subjectDetail" id="timeCommitDetail"></p>
        </div>
        <div id="prerequisites">
            <h4 class="subjectDetailHeading">Prerequisites</h4>

            <p class="subjectDetail" id="prerequisitesDetail"></p>
        </div>
        <div id="assessments">
            <h4 class="subjectDetailHeading">Assessment</h4>

            <p class="subjectDetail" id="assessmentsDetail"></p>
        </div>
        <div id="corequisites">
            <h4 class="subjectDetailHeading">Corequisites</h4>

            <p class="subjectDetail" id="corequisitesDetail"></p>
        </div>
        <div id="subjectOverview">
            <h4 class="subjectDetailHeading">Subject Overview</h4>

            <p class="subjectDetail" id="subjectOverviewDetail"></p>
        </div>
        <div id="objectives">
            <h4 class="subjectDetailHeading">Objectives</h4>

            <p class="subjectDetail" id="objectivesDetail"></p>
        </div>
    </section>

    <section ng-view id="graphContainer"></section>

    <section id="legend" class="default" ng-controller="LegendCtrl">
        <i id="legendCloseIcon" class="glyphicon glyphicon-remove" ng-click="toggleLegend()"></i>
        <i id="legendOpenIcon" class="glyphicon glyphicon-info-sign" ng-click="toggleLegend()"></i>

        <div id="legendGraph"></div>
    </section>

    <section id="typeSwitcher" class="btn-group" ng-controller="GraphTypeCtrl">
        <span class="btn btn-default" ng-class="{active: prereq()}" ng-cloak ng-click="toPre()">Prerequisites</span>
        <span class="btn btn-default" ng-class="{active: !prereq()}" ng-cloak ng-click="toPost()">Postrequisites</span>
    </section>

    <section id="search" ng-controller="SearchCtrl" ng-cloak popup>
        <input type="text" id="searchInput" placeholder="Search" ng-click="toggleSearch($event)" ng-model="query">
        <button class="btn btn-default" id="searchBtn" ng-click="toggleSearch($event)">
            <i class="glyphicon glyphicon-search"></i>
        </button>
        <div id="searchResult" ng-show="isVisible()">
            <table>
                {% verbatim %}
                <tr ng-click="replacePath(node.code)" data-code="{{node.code}}"
                    ng-repeat="node in subjects | filter:query | limitTo: 100">
                    <td ng-bind="node.code"></td>
                    <td ng-bind="node.name"></td>
                </tr>
                {% endverbatim %}
            </table>
        </div>
    </section>
{% endblock %}